<div class="backdrop"></div>
<header class="main-header">
  <button id="side-menu-toggle">Menu</button>
  <nav class="main-header__nav">
    <ul class="main-header__item-list">
      <li class="main-header__item">
        <form action="<%= mongo ? '/logout': '/mongo/logout' %>" method="POST">
          <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
          <button type="submit"><%= mongo ? 'MySQL' : 'Mongo' %></button>
        </form>
      </li>
      <li class="main-header__item">
        <a
          class="<%= path === '/' ? 'active' : '' %>"
          href="<%= mongo ? '/mongo': '/' %>"
          >Shop</a
        >
      </li>
      <li class="main-header__item">
        <a
          class="<%= path === '/products' ? 'active' : '' %>"
          href="<%= mongo ? '/mongo/products': '/products' %>"
          >Products</a
        >
      </li>
      <% if (isLoggedIn) { %>
      <li class="main-header__item">
        <a
          class="<%= path === '/cart' ? 'active' : '' %>"
          href="<%= mongo ? '/mongo/cart': '/cart' %>"
          >Cart</a
        >
      </li>
      <li class="main-header__item">
        <a
          class="<%= path === '/orders' ? 'active' : '' %>"
          href="<%= mongo ? '/mongo/orders': '/orders' %>"
          >Orders</a
        >
      </li>
      <li class="main-header__item">
        <a
          class="<%= path === '/admin/add-product' ? 'active' : '' %>"
          href="<%= mongo ? '/mongo/admin/add-product': '/admin/add-product' %>"
          >Add Product
        </a>
      </li>
      <li class="main-header__item">
        <a
          class="<%= path === '/admin/products' ? 'active' : '' %>"
          href="<%= mongo ? '/mongo/admin/products': '/admin/products' %>"
          >Admin Products
        </a>
      </li>
      <li class="main-header__item">
        <a
          class="<%= path === '/graphql' ? 'active' : '' %>"
          href="<%= mongo ? '/mongo/graphql': '/graphql' %>"
          >GraphQL
        </a>
      </li>
      <% } %>
    </ul>
    <ul class="main-header__item-list">
      <% if (!isLoggedIn) { %>
      <li class="main-header__item">
        <a
          class="<%= path === '/login' ? 'active' : '' %>"
          href="<%= mongo ? '/mongo/login': '/login' %>"
          >Login
        </a>
      </li>
      <li class="main-header__item">
        <a
          class="<%= path === '/signup' ? 'active' : '' %>"
          href="<%= mongo ? '/mongo/signup': '/signup' %>"
          >Signup</a
        >
      </li>
      <% } else { %>
      <li class="main-header__item">
        <form action="<%= mongo ? '/mongo/logout': '/logout' %>" method="POST">
          <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
          <button type="submit">Logout</button>
        </form>
      </li>
      <% } %>
    </ul>
  </nav>
</header>

<nav class="mobile-nav">
  <ul class="mobile-nav__item-list">
    <li class="mobile-nav__item">
      <form action="<%= mongo ? '/logout': '/mongo/logout' %>" method="POST">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
        <button type="submit"><%= mongo ? 'MySQL' : 'Mongo' %></button>
      </form>
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/' ? 'active' : '' %>"
        href="<%= mongo ? '/mongo': '/' %>"
        >Shop</a
      >
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/products' ? 'active' : '' %>"
        href="<%= mongo ? '/mongo/products': '/products' %>"
        >Products</a
      >
    </li>
    <% if (isLoggedIn) { %>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/cart' ? 'active' : '' %>"
        href="<%= mongo ? '/mongo/cart': '/cart' %>"
        >Cart</a
      >
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/orders' ? 'active' : '' %>"
        href="<%= mongo ? '/mongo/orders': '/orders' %>"
        >Orders</a
      >
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/admin/add-product' ? 'active' : '' %>"
        href="<%= mongo ? '/mongo/admin/add-product': '/admin/add-product' %>"
        >Add Product
      </a>
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/admin/products' ? 'active' : '' %>"
        href="<%= mongo ? '/mongo/admin/products': '/admin/products' %>"
        >Admin Products
      </a>
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/graphql/products' ? 'active' : '' %>"
        href="<%= mongo ? '/mongo/graphql/products': '/graphql/products' %>"
        >GraphQL Products
      </a>
    </li>
    <% } %>
  </ul>
  <ul class="mobile-nav__item-list">
    <% if (!isLoggedIn) { %>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/login' ? 'active' : '' %>"
        href="<%= mongo ? '/mongo/login': '/login' %>"
        >Login
      </a>
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/signup' ? 'active' : '' %>"
        href="<%= mongo ? '/mongo/signup': '/signup' %>"
        >Signup</a
      >
    </li>
    <% } else { %>
    <li class="mobile-nav__item">
      <form action="<%= mongo ? '/mongo/logout': '/logout' %>" method="POST">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
        <button type="submit">Logout</button>
      </form>
    </li>
    <% } %>
  </ul>
</nav>

<%- include('./message') %>
